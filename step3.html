<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Step 3 - Download</title>
<style>
  /* Responsive, centered layout */
  html, body {
    height: 100%;
    margin: 0;
    font-family: Arial, sans-serif;
  }
  body {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;

    /* Animated background */
    background: linear-gradient(270deg, #ff6ec4, #7873f5, #4ade80, #facc15);
    background-size: 800% 800%;
    animation: gradientMove 15s ease infinite;
    text-align: center;
    color: #fff;
  }
  @keyframes gradientMove {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  h1 { margin: 0 16px 16px; text-shadow: 1px 1px 6px rgba(0,0,0,0.5); }

  #countdown {
    font-size: 18px;
    margin: 8px 0 16px;
    font-weight: bold;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
  }

  .progress-container {
    width: min(90vw, 520px);
    height: 22px;
    background: rgba(255,255,255,0.25);
    border-radius: 12px;
    overflow: hidden;
    margin: 10px auto 18px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.25);
  }
  .progress-bar {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #22c55e, #86efac);
    transition: width 1s linear;
  }

  /* Ad container (optional) */
  .ad-box {
    width: min(92vw, 420px);
    margin: 14px auto 10px;
    background: rgba(0,0,0,0.25);
    border-radius: 10px;
    padding: 10px;
  }

  /* Button */
  #downloadBtn {
    display: none;
    padding: 12px 28px;
    font-size: 18px;
    border: none;
    border-radius: 8px;
    background: #1d4ed8;
    color: #fff;
    cursor: pointer;
    box-shadow: 0 6px 16px rgba(0,0,0,0.25);
  }
  #downloadBtn:hover { background: #1e40af; }
</style>
</head>
<body>

  <h1>Step 3 â€” Final Download</h1>

  <!-- (Opcional) Adsterra banner na etapa final -->
  <div class="ad-box">
    <script async="async" data-cfasync="false" src="//valianttossczar.com/f88e74c0266ceb4df7979970050caf8b/invoke.js"></script>
    <div id="container-f88e74c0266ceb4df7979970050caf8b"></div>
  </div>

  <div id="countdown">Please wait 15 seconds...</div>

  <div class="progress-container">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <button id="downloadBtn">Download Now</button>

  <script>
    // --- Read ID from query ---
    const params = new URLSearchParams(window.location.search);
    const id = params.get('id') || 'default';

    // --- Map IDs to final links (customize here) ---
    const finalLinks = {
      FIFA16: "https://gplinks.co/M1ZReMb7",
      DFL26V1:  "https://www.mediafire.com/file/xkqz1yscwz2w7bm/DFL+26+V1.0+ENGLISH+VERSION.zip/filejQh3BfGFQ44v1O0MnIIsUiYeY0YfTeizDl6IbEcrGrDkjz6HJuppdrNboGnFXvpRysLemNHI6qmOJb6fsmA0N4K4NbRw9my-/s1079/724823.jpg",
      PES21:  "https://www.mediafire.com/file/zzzz/PES21.apk",
      DLS25:  "https://www.mediafire.com/file/aaaa/DLS25.apk",
      MODX:   "https://www.mediafire.com/file/bbbb/MODX.apk",
      default:"https://www.mediafire.com"
    };

    const targetUrl = finalLinks[id] || finalLinks.default;

    // --- Countdown + progress bar ---
    const total = 15; // seconds
    let time = total;
    const countdown = document.getElementById("countdown");
    const bar = document.getElementById("progressBar");
    const btn = document.getElementById("downloadBtn");

    const tick = setInterval(() => {
      time--;
      const pct = ((total - time) / total) * 100;
      bar.style.width = pct + "%";
      countdown.textContent = time > 0
        ? `Please wait ${time} seconds...`
        : "Done! Click the button below ðŸ‘‡";

      if (time <= 0) {
        clearInterval(tick);
        bar.style.width = "100%";
        btn.style.display = "inline-block";
      }
    }, 1000);

    // --- Action ---
    btn.addEventListener('click', () => {
      window.open(targetUrl, "_blank");
    });
  </script>

</body>
</html>
